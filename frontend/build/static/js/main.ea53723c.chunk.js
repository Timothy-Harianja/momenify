(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{101:function(e,t,n){},104:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(27),l=n.n(r),c=(n(71),n(6)),i=n(7),s=n(9),u=n(8),m=n(10),p=(n(72),n(73),n(22)),f=n(107),d=n(108),h=n(109),g=n(55),v=(n(74),n(53)),b=n(64),E=n(106),y=(n(75),n(21)),j=n.n(y),w=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={email:null,password:null,message:null},n.tryLogin=function(e){console.log("obj",e),console.log("props: ",n.props),j.a.post("/api/loginRoute/login",e).then((function(e){1==e.data.success?(alert("password matches"),n.setState({message:"login success"})):n.setState({message:"username or password incorrect"})})).catch((function(e){console.log("error of catch:",e)}))},n.submitHandler=function(e){e.preventDefault()},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"Login"},o.a.createElement("form",{onSubmit:this.submitHandler},o.a.createElement("h3",null,"Login"),o.a.createElement(v.a,{controlId:"email",bsSize:"large"},o.a.createElement(b.a,null,"Email"),o.a.createElement(g.a,{autoFocus:!0,type:"email",onChange:function(t){return e.setState({email:t.target.value})}})),o.a.createElement(v.a,{controlId:"password",bsSize:"large"},o.a.createElement(b.a,null,"Password "),o.a.createElement(g.a,{onChange:function(t){return e.setState({password:t.target.value})},type:"password"})),o.a.createElement(E.a,{type:"submit",onClick:function(){return e.tryLogin({email:e.state.email,password:e.state.password})}},"Login")),o.a.createElement("div",{id:"message"},this.state.message))}}]),t}(a.Component);n(94);function O(){var e=Date.now(),t=new Date(e);t.getDate();return t.getMonth()+1+"-date-"+t.getFullYear()}function k(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*a));return t}var S=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={nickname:null,password:null,email:null,activation:!1,activeToken:null,activeTokenExpire:null,lastLogin:null},n.submitHandler=function(e){e.preventDefault()},n.putDataToUsers=function(e){console.log("this.json:",e),console.log("this.props:",n.props),j.a.post("/api/signupRoute/putUser",e).then((function(e){console.log("res: ",e),console.log("res data: ",e.data),e.data.success?window.location="/confirmation":alert("failed")})).catch((function(e){console.log(e)}))},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"SignUp"},o.a.createElement("form",{onSubmit:this.submitHandler},o.a.createElement("h3",null,"Sign Up"),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Nickname"),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"First name",onChange:function(t){return e.setState({nickname:t.target.value})}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Email address"),o.a.createElement("input",{type:"email",className:"form-control",placeholder:"Enter email",onChange:function(t){return e.setState({email:t.target.value})}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Password"),o.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password",onChange:function(t){return e.setState({password:t.target.value})}})),o.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",onClick:function(){e.putDataToUsers({nickname:e.state.nickname,password:e.state.password,email:e.state.email,activation:e.state.activation,lastLogin:O(),activeToken:k(30),activeTokenExpire:(new Date).getTime()+864e5})}},"Sign Up"),o.a.createElement("p",{className:"forgot-password text-right"},"Already registered"," ",o.a.createElement("a",{href:"#login",onSelect:function(){e.props.setBody(o.a.createElement(w,null))}},"sign in?"))))}}]),t}(a.Component),N=(n(95),function(e){var t=e.imageUrl;return o.a.createElement("img",{className:"post-item",src:t,alt:"post"})}),C=(n(96),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={posts:3,loading:!1},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.refs.infiniteScroll.addEventListener("scroll",(function(){e.refs.infiniteScroll.scrollTop+e.refs.infiniteScroll.clientHeight>=e.refs.infiniteScroll.scrollHeight&&e.loadMorePosts()}))}},{key:"showPosts",value:function(){for(var e=[],t=0;t<this.state.posts;t++)e.push(o.a.createElement("div",{key:t,className:"post"},o.a.createElement(N,{imageUrl:"https://images.pexels.com/photos/414612/pexels-photo-414612.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500"})));return e}},{key:"loadMorePosts",value:function(){var e=this;this.setState({loading:!0}),setTimeout((function(){e.setState({posts:e.state.posts+2,loading:!1})}),2e3)}},{key:"render",value:function(){return o.a.createElement("div",{className:"posts-container",ref:"infiniteScroll"},this.showPosts(),this.state.loading?o.a.createElement("p",{className:"loading-text"},"loading more posts..."):"")}}]),t}(a.Component)),x=(n(97),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"home-page"},o.a.createElement("div",{className:"main-posts-container"},o.a.createElement(C,null)),o.a.createElement("div",{className:"side-posts-container"},o.a.createElement(C,null)))}}]),t}(a.Component)),L=(n(98),n(23));function T(){var e=Object(p.a)(["\n  .navbar {\n    background-color: #e3ebfd;\n  }\n  a,\n  .navbar-nav,\n  .navbar-light .nav-link {\n    color: black;\n    &:hover {\n      color: white;\n    }\n  }\n  .navbar-brand {\n    font-size: 1.4em;\n    color: black;\n    &:hover {\n      color: white;\n    }\n  }\n  .form-center {\n    position: absolute !important;\n    left: 25%;\n    right: 25%;\n  }\n"]);return T=function(){return e},e}var D=L.a.div(T()),U=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(D,null,o.a.createElement(f.a,{expand:"lg"},o.a.createElement(f.a.Brand,{href:"/"},"Momenify"),o.a.createElement(h.a,{className:"form-center"},o.a.createElement(g.a,{type:"text",placeholder:"Search",className:""})),o.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),o.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},o.a.createElement(d.a,{className:"ml-auto"},o.a.createElement(d.a.Item,null,o.a.createElement(d.a.Link,{href:"/login"},"Login")),o.a.createElement(d.a.Item,null,o.a.createElement(d.a.Link,{href:"/signup"},"Sign Up"))))))}}]),t}(a.Component),A=(n(101),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={body:null},n.confirm=function(){j.a.post("/api/activeRoute").then((function(e){console.log("this is true or false: "+e.data.message),n.setState({body:o.a.createElement("div",{id:"buttom-text"},e.data.message)})})).catch((function(e){console.log(e)}))},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"active-body"},o.a.createElement("div",{id:"top-text"},"By clicking the button, you agree the policy of using our webpage"),o.a.createElement(E.a,{id:"active-button",type:"submit",onClick:function(){return e.confirm()}},"Activate"),this.state.body)}}]),t}(a.Component)),M=n(36),P=n(19);function B(){var e=Object(p.a)(["\n  margin-top: 1em;\n  margin-left: 6em;\n  margin-right: 6em;\n"]);return B=function(){return e},e}var H=L.a.div(B()),F=function(){return o.a.createElement(H,null,o.a.createElement("h2",null,"404 Not Found!"))};function I(){var e=Object(p.a)(["\n  margin-top: 1em;\n  margin-left: 6em;\n  margin-right: 6em;\n"]);return I=function(){return e},e}var z=L.a.div(I()),R=function(){return o.a.createElement(z,null,o.a.createElement("h2",null,"An confirmation link has been sent to your email, please activate in 24 hours!"))},J=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={body:o.a.createElement(x,null),api:"http://localhost:3001"},n.setBody=function(e){console.log("clicked"),n.setState({body:e})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(M.a,null,o.a.createElement(U,null),o.a.createElement(P.c,null,o.a.createElement(P.a,{exact:!0,path:"/",component:x}),o.a.createElement(P.a,{path:"/login",component:w}),o.a.createElement(P.a,{path:"/signup",component:S}),o.a.createElement(P.a,{path:"/active",component:A}),o.a.createElement(P.a,{path:"/confirmation",component:R}),o.a.createElement(P.a,{component:F}))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},66:function(e,t,n){e.exports=n(104)},71:function(e,t,n){},72:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},73:function(e,t,n){},75:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){}},[[66,1,2]]]);
//# sourceMappingURL=main.ea53723c.chunk.js.map